{"remainingRequest":"/home/chuan/vue-kalacloud-com/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/chuan/vue-kalacloud-com/src/components/TodoList.vue?vue&type=style&index=0&id=3de47834&lang=css","dependencies":[{"path":"/home/chuan/vue-kalacloud-com/src/components/TodoList.vue","mtime":1641782265886},{"path":"/home/chuan/vue-kalacloud-com/node_modules/css-loader/dist/cjs.js","mtime":1641781383642},{"path":"/home/chuan/vue-kalacloud-com/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1641781394358},{"path":"/home/chuan/vue-kalacloud-com/node_modules/postcss-loader/src/index.js","mtime":1641781386094},{"path":"/home/chuan/vue-kalacloud-com/node_modules/cache-loader/dist/cjs.js","mtime":1641781393366},{"path":"/home/chuan/vue-kalacloud-com/node_modules/vue-loader-v16/dist/index.js","mtime":1641781385514}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5saXN0IHsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIG1heC13aWR0aDogNzUwcHg7CiAgbWFyZ2luOiBhdXRvOwp9Cg=="},{"version":3,"sources":["/home/chuan/vue-kalacloud-com/src/components/TodoList.vue"],"names":[],"mappings":";AAyHA,CAAC,CAAC,CAAC,CAAC,EAAE;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACd","file":"/home/chuan/vue-kalacloud-com/src/components/TodoList.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"list row\">\n    <div class=\"col-md-8\">\n      <div class=\"input-group mb-3\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"搜索待办清单\"\n          v-model=\"title\"/>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" type=\"button\"\n            @click=\"searchTitle\"\n          >\n            Search\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-6\">\n      <h4>待办清单</h4>\n      <ul class=\"list-group\">\n        <li class=\"list-group-item\"\n          :class=\"{ active: index == currentIndex }\"\n          v-for=\"(todo, index) in todos\"\n          :key=\"index\"\n          @click=\"setActiveTodo(todo, index)\"\n        >\n          {{ todo.title }}\n        </li>\n      </ul>\n\n      <button class=\"m-3 btn btn-sm btn-danger\" @click=\"removeAllTodos\">\n       删除所有清单\n      </button>\n    </div>\n    <div class=\"col-md-6\">\n      <div v-if=\"currentTodo\">\n        <h4>待办详情</h4>\n        <div>\n          <label><strong>任务:</strong></label> {{ currentTodo.title }}\n        </div>\n        <div>\n          <label><strong>详情:</strong></label> {{ currentTodo.description }}\n        </div>\n        <div>\n          <label><strong>状态:</strong></label> {{ currentTodo.done ? \"done\" : \"undone\" }}\n        </div>\n\n        <router-link :to=\"'/todos/' + currentTodo.id\" class=\"badge badge-warning\">编辑</router-link>\n      </div>\n      <div v-else>\n        <br />\n        <p>点击右侧列表查看详情</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TodoDataService from \"../services/TodoDataService\";\n\nexport default {\n  name: \"todos-list\",\n  data() {\n    return {\n      todos: [],\n      currentTodo: null,\n      currentIndex: -1,\n      title: \"\"\n    };\n  },\n  methods: {\n    retrieveTodos() {\n      TodoDataService.getAll()\n        .then(response => {\n          this.todos = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n\n    refreshList() {\n      this.retrieveTodos();\n      this.currentTodo = null;\n      this.currentIndex = -1;\n    },\n\n    setActiveTodo(todo, index) {\n      this.currentTodo = todo;\n      this.currentIndex = todo ? index : -1;\n    },\n\n    removeAllTodos() {\n      TodoDataService.deleteAll()\n        .then(response => {\n          console.log(response.data);\n          this.refreshList();\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    \n    searchTitle() {\n      TodoDataService.findByTitle(this.title)\n        .then(response => {\n          this.todos = response.data;\n          this.setActiveTodo(null);\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    }\n  },\n  mounted() {\n    this.retrieveTodos();\n  }\n};\n</script>\n\n<style>\n.list {\n  text-align: left;\n  max-width: 750px;\n  margin: auto;\n}\n</style>\n"]}]}